"use strict";(self.webpackChunkemail_template_builder=self.webpackChunkemail_template_builder||[]).push([[554],{"./src/lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tailwind-merge@3.3.0/node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(){for(var _len=arguments.length,inputs=new Array(_len),_key=0;_key<_len;_key++)inputs[_key]=arguments[_key];return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}},"./src/pattern/molecules/element-card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>ElementCard});var C_Users_ADMIN_Desktop_work_email_template_builder_node_modules_pnpm_babel_runtime_7_27_1_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.27.1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@14.0.4_@babel+core@7.2_d61cb2aa895d3a278f46f783580f82c5/node_modules/next/dist/compiled/react/index.js"),react_dnd__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react-dnd@16.0.1_@types+nod_79cab381a51e7f9b294484e7e175a475/node_modules/react-dnd/dist/hooks/useDrag/useDrag.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,ElementCard=function ElementCard(_ref){var type=_ref.type,icon=_ref.icon,label=_ref.label,onClick=_ref.onClick,_useDrag=(0,react_dnd__WEBPACK_IMPORTED_MODULE_1__.i)((function(){return{type:"ELEMENT",item:{type},collect:function collect(monitor){return{isDragging:!!monitor.isDragging()}}}})),_useDrag2=(0,C_Users_ADMIN_Desktop_work_email_template_builder_node_modules_pnpm_babel_runtime_7_27_1_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.A)(_useDrag,2),isDragging=_useDrag2[0].isDragging,dragRef=_useDrag2[1];return __jsx("div",{ref:function ref(element){dragRef(element)},className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("flex items-center p-3 border border-border/60 rounded-md cursor-move hover:bg-accent/50 hover:border-border transition-all duration-200 group","dark:border-gray-700/60 dark:hover:bg-gray-800/50 dark:hover:border-gray-600","focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-1","touch-manipulation",isDragging&&"opacity-50"),role:"button",tabIndex:0,"aria-label":"Add ".concat(label," element"),"aria-grabbed":isDragging,onClick,onKeyDown:function onKeyDown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),null==onClick||onClick())}},__jsx("div",{className:"mr-3 text-muted-foreground group-hover:text-primary transition-colors duration-200","aria-hidden":"true"},icon),__jsx("span",{className:"font-medium text-sm"},label),__jsx("span",{className:"sr-only"},"Drag to add to template or click to insert"))};ElementCard.displayName="ElementCard";try{ElementCard.displayName="ElementCard",ElementCard.__docgenInfo={description:"",displayName:"ElementCard",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"button"'},{value:'"image"'},{value:'"header"'},{value:'"sub-header"'},{value:'"paragraph"'},{value:'"divider"'},{value:'"spacer"'},{value:'"footer"'},{value:'"logo"'}]}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pattern/molecules/element-card.tsx#ElementCard"]={docgenInfo:ElementCard.__docgenInfo,name:"ElementCard",path:"src/pattern/molecules/element-card.tsx#ElementCard"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/organisms/ElementsPanel.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ElementsPanel_stories});var react=__webpack_require__("./node_modules/.pnpm/next@14.0.4_@babel+core@7.2_d61cb2aa895d3a278f46f783580f82c5/node_modules/next/dist/compiled/react/index.js"),react_redux=__webpack_require__("./node_modules/.pnpm/react-redux@9.2.0_@types+re_abd92a1b93cb793e5a2e9563ad75fff6/node_modules/react-redux/dist/react-redux.mjs"),slicedToArray=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.27.1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),defineProperty=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.27.1/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),redux_toolkit_modern=__webpack_require__("./node_modules/.pnpm/@reduxjs+toolkit@2.8.1_reac_23a928d246ba3f1156cb0a3512159141/node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs"),v4=__webpack_require__("./node_modules/.pnpm/uuid@11.1.0/node_modules/uuid/dist/esm-browser/v4.js"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var initialState={currentTemplate:{id:(0,v4.A)(),name:"Untitled Template",elements:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},templates:[],selectedElementId:null},templateSlice=(0,redux_toolkit_modern.Z0)({name:"template",initialState:function loadInitialTemplates(){if("undefined"==typeof window)return initialState;try{var savedTemplates=localStorage.getItem("emailBuilder_templates"),templates=savedTemplates?JSON.parse(savedTemplates):[],savedCurrentTemplate=localStorage.getItem("emailBuilder_currentTemplate"),currentTemplate=savedCurrentTemplate?JSON.parse(savedCurrentTemplate):initialState.currentTemplate;return _objectSpread(_objectSpread({},initialState),{},{templates,currentTemplate})}catch(error){return console.error("Error loading templates from localStorage:",error),initialState}}(),reducers:{addElement:function addElement(state,action){var _action$payload=action.payload,type=_action$payload.type,index=_action$payload.index,newElement={id:(0,v4.A)(),type,content:getDefaultContentForType(type),styles:getDefaultStylesForType(type)};void 0!==index?state.currentTemplate.elements.splice(index,0,newElement):state.currentTemplate.elements.push(newElement),state.currentTemplate.updatedAt=(new Date).toISOString(),state.selectedElementId=newElement.id},updateElement:function updateElement(state,action){var _action$payload2=action.payload,id=_action$payload2.id,updates=_action$payload2.updates,elementIndex=state.currentTemplate.elements.findIndex((function(el){return el.id===id}));-1!==elementIndex&&(state.currentTemplate.elements[elementIndex]=_objectSpread(_objectSpread({},state.currentTemplate.elements[elementIndex]),updates),state.currentTemplate.updatedAt=(new Date).toISOString())},removeElement:function removeElement(state,action){var id=action.payload;state.currentTemplate.elements=state.currentTemplate.elements.filter((function(el){return el.id!==id})),state.currentTemplate.updatedAt=(new Date).toISOString(),state.selectedElementId===id&&(state.selectedElementId=null)},reorderElements:function reorderElements(state,action){var _action$payload3=action.payload,sourceIndex=_action$payload3.sourceIndex,destinationIndex=_action$payload3.destinationIndex,_state$currentTemplat=state.currentTemplate.elements.splice(sourceIndex,1),removed=(0,slicedToArray.A)(_state$currentTemplat,1)[0];state.currentTemplate.elements.splice(destinationIndex,0,removed),state.currentTemplate.updatedAt=(new Date).toISOString()},selectElement:function selectElement(state,action){state.selectedElementId=action.payload},updateTemplateName:function updateTemplateName(state,action){state.currentTemplate.name=action.payload,state.currentTemplate.updatedAt=(new Date).toISOString()},saveTemplate:function saveTemplate(state){var existingIndex=state.templates.findIndex((function(t){return t.id===state.currentTemplate.id}));-1!==existingIndex?state.templates[existingIndex]=_objectSpread({},state.currentTemplate):state.templates.push(_objectSpread({},state.currentTemplate));try{localStorage.setItem("emailBuilder_templates",JSON.stringify(state.templates))}catch(error){console.error("Failed to save templates to localStorage:",error)}},loadTemplate:function loadTemplate(state,action){var templateId=action.payload,template=state.templates.find((function(t){return t.id===templateId}));template&&(state.currentTemplate=JSON.parse(JSON.stringify(template)),state.selectedElementId=null)},loadTemplateFromStorage:function loadTemplateFromStorage(state,action){state.currentTemplate=action.payload,state.selectedElementId=null},createNewTemplate:function createNewTemplate(state){state.currentTemplate={id:(0,v4.A)(),name:"Untitled Template",elements:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},state.selectedElementId=null},importTemplate:function importTemplate(state,action){state.currentTemplate=_objectSpread(_objectSpread({},action.payload),{},{id:(0,v4.A)(),updatedAt:(new Date).toISOString()}),state.selectedElementId=null},persistTemplates:function persistTemplates(state){try{localStorage.setItem("emailBuilder_templates",JSON.stringify(state.templates)),localStorage.setItem("emailBuilder_currentTemplate",JSON.stringify(state.currentTemplate))}catch(error){console.error("Failed to persist templates to localStorage:",error)}}}});function getDefaultContentForType(type){switch(type){case"header":return{text:"Header Text",level:1};case"sub-header":return{text:"Sub-Header Text"};case"paragraph":return{text:"This is a paragraph of text. Click to edit."};case"button":return{text:"Click Me",url:"#"};case"image":return{src:"/email-placeholder.png",alt:"Image description"};case"divider":default:return{};case"spacer":return{height:20};case"footer":return{companyName:"Your Company",tagline:"Your company tagline",socialLinks:[{platform:"facebook",url:"https://facebook.com/"},{platform:"twitter",url:"https://twitter.com/"},{platform:"instagram",url:"https://instagram.com/"}]};case"logo":return{src:"",alt:"Company Logo",link:"",maxWidth:200,alignment:"center"}}}function getDefaultStylesForType(type){var baseStyles={padding:"16px",margin:"0px",color:"var(--foreground)",backgroundColor:"transparent",fontFamily:"Arial, sans-serif"};switch(type){case"header":return _objectSpread(_objectSpread({},baseStyles),{},{fontSize:"24px",fontWeight:"bold"});case"sub-header":return _objectSpread(_objectSpread({},baseStyles),{},{fontSize:"18px",fontWeight:"600",color:"#4B5563",borderBottom:"1px solid #E5E7EB",paddingBottom:"8px"});case"paragraph":return _objectSpread(_objectSpread({},baseStyles),{},{fontSize:"16px"});case"button":return _objectSpread(_objectSpread({},baseStyles),{},{backgroundColor:"#3b82f6",color:"#ffffff",padding:"12px 24px",borderRadius:"4px",textAlign:"center"});case"image":return _objectSpread(_objectSpread({},baseStyles),{},{width:"100%",maxWidth:"600px"});case"divider":return _objectSpread(_objectSpread({},baseStyles),{},{borderTop:"1px solid var(--border)",padding:"0px"});case"spacer":return _objectSpread(_objectSpread({},baseStyles),{},{padding:"0px"});case"footer":return _objectSpread(_objectSpread({},baseStyles),{},{padding:"24px 16px",borderTop:"1px solid #E5E7EB",textAlign:"center",fontSize:"14px",color:"#4B5563"});case"logo":return _objectSpread(_objectSpread({},baseStyles),{},{padding:"16px",margin:"0 auto",maxWidth:"200px",height:"auto"});default:return baseStyles}}var _templateSlice$action=templateSlice.actions,addElement=_templateSlice$action.addElement;_templateSlice$action.updateElement,_templateSlice$action.removeElement,_templateSlice$action.reorderElements,_templateSlice$action.selectElement,_templateSlice$action.updateTemplateName,_templateSlice$action.saveTemplate,_templateSlice$action.loadTemplate,_templateSlice$action.loadTemplateFromStorage,_templateSlice$action.createNewTemplate,_templateSlice$action.importTemplate,_templateSlice$action.persistTemplates;const features_templateSlice=templateSlice.reducer;var element_card=__webpack_require__("./src/pattern/molecules/element-card.tsx"),type=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/type.js"),heading_2=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/heading-2.js"),align_left=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/align-left.js"),square=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/square.js"),icons_image=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/image.js"),minus=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/minus.js"),arrow_down=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/arrow-down.js"),layout=__webpack_require__("./node_modules/.pnpm/lucide-react@0.294.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/layout.js"),__jsx=react.createElement,ElementsPanel=function ElementsPanel(){var dispatch=function useAppDispatch(){return(0,react_redux.wA)()}(),elements=[{type:"header",icon:__jsx(type.A,{size:18}),label:"Header"},{type:"sub-header",icon:__jsx(heading_2.A,{size:18}),label:"Sub-Header"},{type:"paragraph",icon:__jsx(align_left.A,{size:18}),label:"Paragraph"},{type:"button",icon:__jsx(square.A,{size:18}),label:"Button"},{type:"image",icon:__jsx(icons_image.A,{size:18}),label:"Image"},{type:"logo",icon:__jsx(icons_image.A,{size:18}),label:"Logo"},{type:"divider",icon:__jsx(minus.A,{size:18}),label:"Divider"},{type:"spacer",icon:__jsx(arrow_down.A,{size:18}),label:"Spacer"},{type:"footer",icon:__jsx(layout.A,{size:18}),label:"Footer"}];return __jsx("div",{className:"space-y-4 fade-in"},__jsx("h3",{className:"text-base font-semibold mb-4 text-foreground",id:"elements-heading"},"Elements"),__jsx("div",{className:"space-y-2.5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-2.5",role:"list","aria-labelledby":"elements-heading"},elements.map((function(element){return __jsx("div",{key:element.type,role:"listitem"},__jsx(element_card.F,{type:element.type,icon:element.icon,label:element.label,onClick:function onClick(){return function handleElementClick(type){dispatch(addElement({type}))}(element.type)}}))}))))};ElementsPanel.displayName="ElementsPanel";try{ElementsPanel.displayName="ElementsPanel",ElementsPanel.__docgenInfo={description:"",displayName:"ElementsPanel",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/pattern/organisms/elements-panel.tsx#ElementsPanel"]={docgenInfo:ElementsPanel.__docgenInfo,name:"ElementsPanel",path:"src/pattern/organisms/elements-panel.tsx#ElementsPanel"})}catch(__react_docgen_typescript_loader_error){}function uiSlice_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var uiSlice=(0,redux_toolkit_modern.Z0)({name:"ui",initialState:{sidebarOpen:!0,activeTab:"elements",isDragging:!1,previewMode:!1,showExportModal:!1,showSaveModal:!1,showLoadModal:!1,notifications:[]},reducers:{toggleSidebar:function toggleSidebar(state){state.sidebarOpen=!state.sidebarOpen},setActiveTab:function setActiveTab(state,action){state.activeTab=action.payload},setIsDragging:function setIsDragging(state,action){state.isDragging=action.payload},togglePreviewMode:function togglePreviewMode(state){state.previewMode=!state.previewMode},toggleExportModal:function toggleExportModal(state){state.showExportModal=!state.showExportModal},toggleSaveModal:function toggleSaveModal(state){state.showSaveModal=!state.showSaveModal},toggleLoadModal:function toggleLoadModal(state){state.showLoadModal=!state.showLoadModal},addNotification:function addNotification(state,action){var id=Date.now().toString();state.notifications.push(function uiSlice_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?uiSlice_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):uiSlice_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({id},action.payload))},removeNotification:function removeNotification(state,action){state.notifications=state.notifications.filter((function(notification){return notification.id!==action.payload}))}}}),_uiSlice$actions=uiSlice.actions;_uiSlice$actions.toggleSidebar,_uiSlice$actions.setActiveTab,_uiSlice$actions.setIsDragging,_uiSlice$actions.togglePreviewMode,_uiSlice$actions.toggleExportModal,_uiSlice$actions.toggleSaveModal,_uiSlice$actions.toggleLoadModal,_uiSlice$actions.addNotification,_uiSlice$actions.removeNotification;const features_uiSlice=uiSlice.reducer;var DndProvider=__webpack_require__("./node_modules/.pnpm/react-dnd@16.0.1_@types+nod_79cab381a51e7f9b294484e7e175a475/node_modules/react-dnd/dist/core/DndProvider.js"),dist=__webpack_require__("./node_modules/.pnpm/react-dnd-html5-backend@16.0.1/node_modules/react-dnd-html5-backend/dist/index.js"),ElementsPanel_stories_jsx=react.createElement;const ElementsPanel_stories={title:"Organisms/ElementsPanel",component:ElementsPanel,parameters:{layout:"centered"},tags:["autodocs"],decorators:[function(Story){var store=function createMockStore(){return(0,redux_toolkit_modern.U1)({reducer:{template:features_templateSlice,ui:features_uiSlice},middleware:function middleware(getDefaultMiddleware){return getDefaultMiddleware({serializableCheck:!1})}})}();return ElementsPanel_stories_jsx(react_redux.Kq,{store},ElementsPanel_stories_jsx(DndProvider.Q,{backend:dist.t2},ElementsPanel_stories_jsx("div",{className:"w-80 border border-gray-200 rounded-md p-4 bg-background"},ElementsPanel_stories_jsx(Story,null))))}]};var Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]}}]);